<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixelate - Midnight Chiptune</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <meta name="view-transition" content="same-origin">
    <style>
        @view-transition {
            navigation: auto;
        }

        :root {
            --retro-blue: #87CEEB;
            --retro-red: #D64545;
            --retro-gold: #FFD700;
            --retro-dark: #0a0a0a;
            --retro-panel: #262626;
            --retro-bg: #1a1a1a;
            --retro-text: #e5e5e5;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow: hidden;
            background-color: var(--retro-bg);
            color: var(--retro-text);
        }

        .pixel-font {
            font-family: 'Press Start 2P', cursive;
        }

        .retro-card {
            background-color: var(--retro-panel);
            border: 4px solid var(--retro-dark);
            box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.4);
            border-radius: 4px;
        }

        .retro-btn {
            background-color: var(--retro-panel);
            border: 3px solid var(--retro-dark);
            box-shadow: 0 4px 0 var(--retro-dark);
            transition: all 0.1s ease;
            border-radius: 4px;
            color: var(--retro-text);
        }

        .retro-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 var(--retro-dark);
        }

        .retro-btn:hover {
            animation: sprite-bounce 0.4s ease infinite alternate;
            filter: brightness(1.2);
        }

        @keyframes sprite-bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-4px); }
        }

        .pixel-grid {
            display: grid;
            grid-template-columns: repeat(32, 1fr);
            grid-template-rows: repeat(32, 1fr);
            gap: 1px;
            background: var(--retro-dark);
            border: 8px solid var(--retro-dark);
            border-radius: 4px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }

        .pixel {
            aspect-ratio: 1 / 1;
            background: #333;
            transition: background 0.1s ease;
        }

        .pixel:hover {
            background: var(--retro-gold);
            filter: drop-shadow(0 0 8px var(--retro-gold));
            z-index: 10;
        }

        .accent-glow-red { filter: drop-shadow(0 0 8px rgba(214, 69, 69, 0.6)); }
        .accent-glow-gold { filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.6)); }
        .accent-glow-blue { filter: drop-shadow(0 0 8px rgba(135, 206, 235, 0.6)); }

        .soft-text-shadow {
            text-shadow: 2px 2px 0px rgba(0,0,0,0.5);
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--retro-dark);
        }
        ::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 0;
        }

        .canvas-container {
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(214, 69, 69, 0.05) 0%, transparent 70%),
                url('https://www.transparenttextures.com/patterns/pinstriped-suit.png');
            background-blend-mode: overlay;
        }
    </style>
</head>
<body>
    <div class="min-h-screen flex flex-col relative overflow-hidden select-none">
        
        <!-- Top Navigation -->
        <nav class="h-16 border-b-4 border-black/40 flex items-center justify-between px-8 bg-[#121212] z-40">
            <div class="flex items-center space-x-4">
                <iconify-icon icon="lucide:gamepad-2" class="text-3xl text-[#D64545] accent-glow-red"></iconify-icon>
                <h1 class="pixel-font text-lg tracking-tight soft-text-shadow text-[#e5e5e5]">PIXELATE</h1>
            </div>
            <div class="flex items-center space-x-6">
                <button id="wallet-btn" class="pixel-font text-[10px] px-4 py-2 retro-btn bg-[#262626] border-[#333] hover:text-[#87CEEB]">
                    0x4f...8a2
                </button>
            </div>
        </nav>

        <!-- Main Workspace -->
        <div class="flex-1 flex overflow-hidden">
            


            <!-- Center: Pixel Canvas -->
            <main class="flex-1 flex flex-col items-center justify-center p-8 canvas-container relative bg-[#121212]">
                <div class="relative p-4 group">
                    <!-- Grid Container -->
                    <div id="canvas-grid" class="pixel-grid w-[512px] h-[512px]">
                        <!-- JS will populate this -->
                    </div>
                    
                    <!-- Tooltip overlay -->
                    <div class="absolute -top-12 left-1/2 -translate-x-1/2 bg-[#0a0a0a] text-white px-4 py-2 border-2 border-[#333] pixel-font text-[8px] opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                        COORD: 24,12
                    </div>
                </div>
                <script>
                    const grid = document.getElementById('canvas-grid');
                    const colors = ['#D64545', '#87CEEB', '#FFD700', '#262626', '#333333'];
                    for (let i = 0; i < 1024; i++) {
                        const p = document.createElement('div');
                        p.className = 'pixel';
                        if(Math.random() > 0.94) {
                            const color = colors[Math.floor(Math.random()*colors.length)];
                            p.style.background = color;
                            if (color !== '#262626' && color !== '#333333') {
                                p.style.boxShadow = `0 0 5px ${color}88`;
                            }
                        }
                        grid.appendChild(p);
                    }
                </script>
            </main>

            <!-- Right Sidebar: Palette -->
            <aside class="w-72 border-l-4 border-black/20 p-6 flex flex-col z-40 bg-[#1a1a1a]">
                <h2 class="pixel-font text-[10px] text-gray-500 mb-6 uppercase tracking-widest">COLOR KIT</h2>
                <div class="grid grid-cols-4 gap-3">
                    <!-- Palette Colors -->
                    <button id="color-1" class="w-12 h-12 rounded bg-[#D64545] border-2 border-black outline outline-2 outline-white/20 accent-glow-red scale-110"></button>
                    <button id="color-2" class="w-12 h-12 rounded bg-[#87CEEB] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-3" class="w-12 h-12 rounded bg-[#FFD700] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-4" class="w-12 h-12 rounded bg-white border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-5" class="w-12 h-12 rounded bg-[#FF9F1C] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-6" class="w-12 h-12 rounded bg-[#2EC4B6] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-7" class="w-12 h-12 rounded bg-[#7209B7] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-8" class="w-12 h-12 rounded bg-[#0a0a0a] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-9" class="w-12 h-12 rounded bg-[#444444] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-10" class="w-12 h-12 rounded bg-[#5c5c5c] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="color-11" class="w-12 h-12 rounded bg-[#8e8e8e] border-2 border-black hover:scale-110 transition-transform"></button>
                    <button id="add-color-btn" class="w-12 h-12 rounded border-2 border-dashed border-white/10 flex items-center justify-center hover:bg-white/5 transition-colors group">
                        <iconify-icon icon="lucide:plus" class="text-xl text-gray-600 group-hover:scale-110 transition-transform"></iconify-icon>
                    </button>
                </div>

                <div class="mt-10 space-y-6">
                    <div class="p-4 retro-card border-white/5">
                        <div class="flex items-center justify-between mb-4">
                            <span class="pixel-font text-[10px] text-gray-400">ZOOM</span>
                            <span class="text-[10px] font-bold text-[#87CEEB]">x2</span>
                        </div>
                        <input type="range" class="w-full accent-[#87CEEB] h-1.5 bg-black rounded-lg appearance-none cursor-pointer">
                    </div>

                    <div class="flex items-center justify-between px-2">
                        <span class="pixel-font text-[10px] text-gray-500">GRID LINES</span>
                        <button id="toggle-grid" class="w-10 h-5 bg-black rounded-full relative">
                            <div class="absolute left-1 top-1 w-3 h-3 bg-[#87CEEB] rounded-full accent-glow-blue"></div>
                        </button>
                    </div>
                </div>

                <div class="mt-auto p-4 border-2 border-dashed border-white/5 rounded text-center bg-black/20">
                    <p class="text-[9px] font-bold text-gray-600 uppercase tracking-widest">A: DRAW | B: ERASE</p>
                </div>
            </aside>
        </div>

        <!-- Bottom Panel: Actions -->
        <footer class="h-40 border-t-4 border-black/40 bg-[#121212] z-40 p-6 flex items-center justify-end space-x-8">
            <div class="flex items-center space-x-4 pr-4">
                <button id="snapshot-btn" class="h-20 px-8 retro-btn bg-[#262626] border-[#333] pixel-font text-[12px] flex flex-col items-center justify-center group">
                    <iconify-icon icon="lucide:camera" class="text-2xl mb-2 text-[#87CEEB] group-hover:accent-glow-blue"></iconify-icon>
                    SNAP
                </button>
                <button id="mint-btn" class="h-20 px-12 retro-btn bg-[#D64545] border-[#0a0a0a] text-white pixel-font text-[12px] flex flex-col items-center justify-center group">
                    <iconify-icon icon="lucide:sparkles" class="text-2xl mb-2 text-[#FFD700] accent-glow-gold"></iconify-icon>
                    MINT
                </button>
            </div>
        </footer>
    </div>
</body>
</html>